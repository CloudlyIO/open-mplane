# Copyright (c) Meta Platforms, Inc. and affiliates.
#
# This source code is licensed under the MIT license found in the
# LICENSE file in the root directory of this source tree.

cmake_minimum_required(VERSION 3.12)
project(hardware-common)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra")

if (ASAN)
  set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fsanitize=address")
  set(CMAKE_CXX_LINK_FLAGS "${CMAKE_CXX_LINK_FLAGS}c[Mac[Mac[Macd- -fsanitize=address")
endif()

include(GNUInstallDirs)

string(CONCAT SRC
  "DelaysMgr/src/DelaysMgr.cpp;"
  "FpgaComms/src/FpgaComms.cpp;"
  "FpgaComms/src/FpgaCommsFromPpc.cpp;"
  "FpgaComms/src/FpgaCommsToPpc.cpp;"
  "FpgaComms/src/FpgaPdu.cpp;"
  "FpgaCommsMsg/src/FpgaCommsMsgBase.cpp;"
  "FpgaCommsMsg/src/FpgaCommsMsgCmd.cpp;"
  "FpgaCommsMsg/src/FpgaCommsMsgEvent.cpp;"
  "FpgaCommsMsg/src/FpgaCommsMsgFactory.cpp;"
  "FpgaCommsMsg/src/FpgaCommsMsgLog.cpp;"
  "FpgaCommsMsg/src/FpgaCommsMsgMatlab.cpp;"
  "FpgaCommsMsg/src/FpgaCommsMsgMonitor.cpp;"
  "FpgaCommsMsg/src/FpgaCommsMsgReply.cpp;"
  "FpgaCommsMsg/src/FpgaCommsMsgText.cpp;"
  "FpgaIrqTask/src/FpgaIrqTask.cpp;"
  "FpgaIrqTask/src/FpgaIrqWait.cpp;"
  "FpgaMsgTokens/src/FpgaMsgTokens.cpp;"
  "HighSpeedEthernet/src/HighSpeedEthernet.cpp;"
  "HighSpeedEthernet/src/RtcIEEE1588.cpp;"
  "I2cToSpi/src/Sc18is602bBus.cpp;"
  "I2cToSpi/src/Sc18is602bBusSettings.cpp;"
  "License/src/SavedFeature.cpp;"
  "License/src/SavedGenericFeature.cpp;"
  "License/src/SavedInternalKey.cpp;"
  "License/src/SavedKey.cpp;"
  "QmcCal/src/QmcAttenState.cpp;"
  "QmcCal/src/QmcCal.cpp;"
  "QmcCal/src/QmcCalFactory.cpp;"
  "QmcCal/src/QmcDacState.cpp;"
  "QmcCal/src/QmcState.cpp;"
  "QmcCal/src/QmcVal.cpp;"
  "QmcCal/src/QmcValFreq.cpp;"
  "RegDevice/src/RegDevice.cpp;"
  "RegModel/src/Mcp23S17RegModel.cpp;"
  "RegModel/src/PagedRegModel.cpp;"
  "RegModel/src/RegModel.cpp;"
  "RegModel/src/RegModelMgr.cpp;"
  "RrhFreqPolicy/src/RrhFreqPolicy.cpp;"
  "agc/src/RxAgc.cpp;"
  "agc/src/RxAgcNull.cpp;"
  "attenuator/src/AttnBase.cpp;"
  "attenuator/src/NxpBap70Q.cpp;"
  "attenuator/src/RFSA3714.cpp;"
  "bus/src/Bus.cpp;"
  "bus/src/FpgaRxIfAttenuatorBus.cpp;"
  "bus/src/FpgaRxRfAttenuatorBus.cpp;"
  "bus/src/FpgaSRxAttenuatorBus.cpp;"
  "bus/src/FpgaSpiBus.cpp;"
  "bus/src/FpgaSpiBus0.cpp;"
  "bus/src/FpgaSpiBus1.cpp;"
  "bus/src/FpgaTxVVABus.cpp;"
  "bus/src/I2cBus.cpp;"
  "bus/src/I2cBusLinux.cpp;"
  "bus/src/I2cBusLinuxMgr.cpp;"
  "bus/src/I2cBusMgr.cpp;"
  "bus/src/I2cToSpiBus.cpp;"
  "bus/src/I2cToSpiBusWithReadback.cpp;"
  "bus/src/Rs485BusFpga.cpp;"
  "bus/src/Rs485BusLinux.cpp;"
  "bus/src/SerialBus.cpp;"
  "bus/src/SerialBusFpga.cpp;"
  "bus/src/SerialBusLinux.cpp;"
  "bus/src/SpiBus.cpp;"
  "bus/src/SpiBusSettings.cpp;"
  "bus/src/TestDataBus.cpp;"
  "bus/src/i2c/smbus.cpp;"
  "caldata/src/CalData.cpp;"
  "caldata/src/CalDataSingleton.cpp;"
  "caldata/src/CommonCalBase.cpp;"
  "caldata/src/PaDetCal.cpp;"
  "caldata/src/PaDetCalDownload.cpp;"
  "caldata/src/PamCal.cpp;"
  "caldata/src/PamCalData.cpp;"
  "caldata/src/PamCalDownload.cpp;"
  "caldata/src/RxAgcCal.cpp;"
  "caldata/src/RxAgcCalData.cpp;"
  "caldata/src/RxCal.cpp;"
  "caldata/src/RxCalData.cpp;"
  "caldata/src/RxCalDownload.cpp;"
  "caldata/src/RxIfCal.cpp;"
  "caldata/src/RxIfCalData.cpp;"
  "caldata/src/RxIfCalDownload.cpp;"
  "caldata/src/RxIfCalHelper.cpp;"
  "caldata/src/SRxCal.cpp;"
  "caldata/src/SRxCalData.cpp;"
  "caldata/src/SRxCalDownload.cpp;"
  "caldata/src/SwrCal.cpp;"
  "caldata/src/SwrCalData.cpp;"
  "caldata/src/SwrCalDownload.cpp;"
  "caldata/src/TxCal.cpp;"
  "caldata/src/TxCalData.cpp;"
  "caldata/src/TxCalDownload.cpp;"
  "caldata/src/TxDCOffsetCal.cpp;"
  "caldata/src/TxDCOffsetCalDownload.cpp;"
  "caldata/src/TxIfCal.cpp;"
  "caldata/src/TxIfCalData.cpp;"
  "caldata/src/TxIfCalDownload.cpp;"
  "caldata/src/TxIfCalHelper.cpp;"
  "caldata/src/TxQuadCal.cpp;"
  "caldata/src/TxQuadCalDownload.cpp;"
  "caldata/src/TxVVACal.cpp;"
  "caldata/src/TxVVACalDownload.cpp;"
  "carrier/src/CarrierBundle.cpp;"
  "carrier/src/CarrierBundleList.cpp;"
  "carrier/src/CarrierFreqMgr.cpp;"
  "carrier/src/CarrierFreqMgr/CarrierFreq.cpp;"
  "carrier/src/CarrierFreqMgr/CarrierFreqBand.cpp;"
  "carrier/src/CarrierPowerMgr.cpp;"
  "carrier/src/CarrierPowerMgr/CarrierPowerPath.cpp;"
  "carrier/src/CommonCarrier.cpp;"
  "carrier/src/CommonCarrierFail.cpp;"
  "carrier/src/CommonCarrierHardware.cpp;"
  "carrier/src/CommonCarrierModel.cpp;"
  "carrier/src/CommonCarrierModelListWorker.cpp;"
  "carrier/src/CommonCarrierModelWorker.cpp;"
  "carrier/src/CommonCarrierServer.cpp;"
  "cpri/src/CommonCpri.cpp;"
  "cpri/src/CommonCpriCore.cpp;"
  "cpriDelays/src/CpriDelays.cpp;"
  "delay/src/DelayUnit/DelayUnitCLK.cpp;"
  "delay/src/DelayUnit/DelayUnitCLK128.cpp;"
  "delay/src/DelayUnit/DelayUnitFPGA.cpp;"
  "delay/src/DelayUnit/DelayUnitFpgaTimer.cpp;"
  "driver/src/Driver.cpp;"
  "driver/src/RegDriver.cpp;"
  "embeddedMgr/src/DummyRemoteMsgHandler.cpp;"
  "embeddedMgr/src/EmbeddedMgr.cpp;"
  "equaliser/src/RxEqualiser.cpp;"
  "equaliser/src/TxEqualiser.cpp;"
  "fault/src/CommonRadioFaults.cpp;"
  "fault/src/Cpri0LossOfFrameFaultMajor.cpp;"
  "fault/src/Cpri0LossOfSignalFaultMajor.cpp;"
  "fault/src/Cpri0RemoteAlarmIndFaultMajor.cpp;"
  "fault/src/Cpri0SapDefectIndFaultMajor.cpp;"
  "fault/src/Cpri1LossOfFrameFaultMajor.cpp;"
  "fault/src/Cpri1LossOfSignalFaultMajor.cpp;"
  "fault/src/Cpri1RemoteAlarmIndFaultMajor.cpp;"
  "fault/src/Cpri1SapDefectIndFaultMajor.cpp;"
  "fault/src/SynthClockFault.cpp;"
  "fpga/src/FpgaCpri.cpp;"
  "fpga/src/FpgaMgr.cpp;"
  "fpga/src/OffTargetFPGA.cpp;"
  "frequencyconstants/src/CommonRxFrequencyConst.cpp;"
  "frequencyconstants/src/CommonSawFrequencyConst.cpp;"
  "frequencyconstants/src/CommonTxFrequencyConst.cpp;"
  "frequencyconstants/src/RadioConfigRxFreqConst.cpp;"
  "frequencyconstants/src/RadioConfigSawFreqConst.cpp;"
  "frequencyconstants/src/RadioConfigTxFreqConst.cpp;"
  "gpio/src/CommonGpio.cpp;"
  "gpio/src/CommonGpioKernel.cpp;"
  "gpio/src/GpioControlLinux.cpp;"
  "gpio/src/GpioLinuxMgr.cpp;"
  "gpio/src/Mcp23S17Spi.cpp;"
  "gpio/src/OffTargetGpio.cpp;"
  "gpio/src/Tca6416aGpio.cpp;"
  "hardwareSettings/src/hardwareSettings.cpp;"
  "hdlc/src/Hdlc.cpp;"
  "hdlc/src/fcs.cpp;"
  "heartbeat/src/Heartbeat.cpp;"
  "led/src/CLed.cpp;"
  "led/src/CLedControl.cpp;"
  "led/src/LedSystem.cpp;"
  "mdio/src/Mdio.cpp;"
  "mdio/src/MdioFactory.cpp;"
  "memory/src/CommonIdEeprom.cpp;"
  "psu/src/Ina226.cpp;"
  "psu/src/Ina226Linux.cpp;"
  "psu/src/Ina226LinuxMgr.cpp;"
  "radio/src/CommonAdc.cpp;"
  "radio/src/CommonAldPort.cpp;"
  "radio/src/CommonAttenuator.cpp;"
  "radio/src/CommonCam.cpp;"
  "radio/src/CommonDac.cpp;"
  "radio/src/CommonDevices.cpp;"
  "radio/src/CommonEqualiser.cpp;"
  "radio/src/CommonFem.cpp;"
  "radio/src/CommonFibre.cpp;"
  "radio/src/CommonFilter.cpp;"
  "radio/src/CommonFpgaDev.cpp;"
  "radio/src/CommonGpioExp.cpp;"
  "radio/src/CommonModules.cpp;"
  "radio/src/CommonPa.cpp;"
  "radio/src/CommonPort.cpp;"
  "radio/src/CommonRadio.cpp;"
  "radio/src/CommonRadioInfo.cpp;"
  "radio/src/CommonRefClock.cpp;"
  "radio/src/CommonRxAttenuatorsFactory.cpp;"
  "radio/src/CommonRxEqualiser.cpp;"
  "radio/src/CommonRxPort.cpp;"
  "radio/src/CommonSRxPort.cpp;"
  "radio/src/CommonSynth.cpp;"
  "radio/src/CommonTemperatureSensor.cpp;"
  "radio/src/CommonTxEqualiser.cpp;"
  "radio/src/CommonTxPort.cpp;"
  "radioConfig/src/NullRadioConfig.cpp;"
  "radioConfig/src/RadioConfig.cpp;"
  "radioConfig/src/RadioConfigDevice.cpp;"
  "radioConfig/src/RadioConfigFpgaHelper.cpp;"
  "refClock/src/LMK04208.cpp;"
  "refClock/src/LMX2594.cpp;"
  "refClock/src/SI5341bI2C.cpp;"
  "refClock/src/SI570.cpp;"
  "regData/src/RegData.cpp;"
  "remoteProc/src/HostFile.cpp;"
  "remoteProc/src/HostFileBase.cpp;"
  "remoteProc/src/HostFileChannel.cpp;"
  "remoteProc/src/HostFileFactory.cpp;"
  "remoteProc/src/HostFileLinux.cpp;"
  "remoteProc/src/HostFileMgr.cpp;"
  "remoteProc/src/RemoteCommsMsgBase.cpp;"
  "remoteProc/src/RemoteCommsMsgCmd.cpp;"
  "remoteProc/src/RemoteCommsMsgReply.cpp;"
  "remoteProc/src/RemoteMsgHandler.cpp;"
  "remoteProc/src/RemoteMsgHandlerBase.cpp;"
  "remoteProc/src/RemoteMsgHandlerShim.cpp;"
  "remoteProc/src/RemoteProc.cpp;"
  "remoteProc/src/RpmsgMgr.cpp;"
  "resamplerData/src/CommonResamplerConfig.cpp;"
  "retMotor/src/AisgCommand.cpp;"
  "retMotor/src/RetMotorComm.cpp;"
  "retMotor/src/RetMotorControl.cpp;"
  "retMotor/src/RetMotorControlFactory.cpp;"
  "retMotor/src/fcs.cpp;"
  "rfBandData/src/CommonRfBandConfig.cpp;"
  "rfBandData/src/CommonRxRfBandConfig.cpp;"
  "rfBandData/src/CommonTxRfBandConfig.cpp;"
  "rfModule/src/CommonRfModule.cpp;"
  "sensors/src/NXPLM75B.cpp;"
  "serial/src/AisgSerialDriver.cpp;"
  "serial/src/SerialData.cpp;"
  "serial/src/SerialDriver.cpp;"
  "sfpdata/src/SfpData.cpp;"
  "synth/src/SI5382aI2C.cpp;"
  "synth/src/SI5382aI2CWithIntr.cpp;"
  "systemClockInput/src/SystemClockInput.cpp;"
  "systemFpga/src/SystemFpga.cpp;"
  "systemReboot/src/SystemReboot.cpp;"
  "systemled/src/SystemLed.cpp;"
)

string(CONCAT INC
  "DelaysMgr/inc/DelaysMgr.h;"
  "FpgaComms/inc/FpgaComms.h;"
  "FpgaComms/inc/FpgaCommsFromPpc.h;"
  "FpgaComms/inc/FpgaCommsToPpc.h;"
  "FpgaComms/inc/FpgaPdu.h;"
  "FpgaCommsMsg/inc/FpgaCommsMsgBase.h;"
  "FpgaCommsMsg/inc/FpgaCommsMsgCmd.h;"
  "FpgaCommsMsg/inc/FpgaCommsMsgEvent.h;"
  "FpgaCommsMsg/inc/FpgaCommsMsgFactory.h;"
  "FpgaCommsMsg/inc/FpgaCommsMsgLog.h;"
  "FpgaCommsMsg/inc/FpgaCommsMsgMatlab.h;"
  "FpgaCommsMsg/inc/FpgaCommsMsgMonitor.h;"
  "FpgaCommsMsg/inc/FpgaCommsMsgReply.h;"
  "FpgaCommsMsg/inc/FpgaCommsMsgText.h;"
  "FpgaIrqTask/inc/FpgaIrqTask.h;"
  "FpgaIrqTask/inc/FpgaIrqWait.h;"
  "FpgaMsgTokens/inc/FpgaMsgTokens.h;"
  "HighSpeedEthernet/inc/HighSpeedEthernet.h;"
  "HighSpeedEthernet/inc/RtcIEEE1588.h;"
  "I2cToSpi/inc/Sc18is602bBus.h;"
  "I2cToSpi/inc/Sc18is602bBusSettings.h;"
  "License/inc/SavedFeature.h;"
  "License/inc/SavedGenericFeature.h;"
  "License/inc/SavedInternalKey.h;"
  "License/inc/SavedKey.h;"
  "QmcCal/inc/QmcAttenState.h;"
  "QmcCal/inc/QmcCal.h;"
  "QmcCal/inc/QmcDacState.h;"
  "QmcCal/inc/QmcState.h;"
  "QmcCal/inc/QmcVal.h;"
  "QmcCal/inc/QmcValFreq.h;"
  "RegDevice/inc/RegDevice.h;"
  "RegModel/inc/Mcp23S17RegModel.h;"
  "RegModel/inc/PagedRegModel.h;"
  "RegModel/inc/RegModel.h;"
  "RegModel/inc/RegModelMgr.h;"
  "RrhFreqPolicy/inc/RrhFreqPolicy.h;"
  "agc/inc/RxAgc.h;"
  "agc/inc/RxAgcNull.h;"
  "attenuator/inc/AttnBase.h;"
  "attenuator/inc/NxpBap70Q.h;"
  "attenuator/inc/RFSA3714.h;"
  "bus/inc/Bus.h;"
  "bus/inc/FpgaRxIfAttenuatorBus.h;"
  "bus/inc/FpgaRxRfAttenuatorBus.h;"
  "bus/inc/FpgaSRxAttenuatorBus.h;"
  "bus/inc/FpgaSpiBus.h;"
  "bus/inc/FpgaSpiBus0.h;"
  "bus/inc/FpgaSpiBus1.h;"
  "bus/inc/FpgaTxVVABus.h;"
  "bus/inc/I2cBus.h;"
  "bus/inc/I2cBusLinux.h;"
  "bus/inc/I2cBusLinuxMgr.h;"
  "bus/inc/I2cBusMgr.h;"
  "bus/inc/I2cToSpiBus.h;"
  "bus/inc/I2cToSpiBusWithReadback.h;"
  "bus/inc/Rs485BusFpga.h;"
  "bus/inc/Rs485BusLinux.h;"
  "bus/inc/SerialBus.h;"
  "bus/inc/SerialBusFpga.h;"
  "bus/inc/SerialBusLinux.h;"
  "bus/inc/SpiBus.h;"
  "bus/inc/SpiBusSettings.h;"
  "bus/inc/TestDataBus.h;"
  "caldata/inc/CalData.h;"
  "caldata/inc/CommonCalBase.h;"
  "caldata/inc/PaDetCal.h;"
  "caldata/inc/PaDetCalDownload.h;"
  "caldata/inc/PamCal.h;"
  "caldata/inc/PamCalData.h;"
  "caldata/inc/PamCalDownload.h;"
  "caldata/inc/RxAgcCal.h;"
  "caldata/inc/RxAgcCalData.h;"
  "caldata/inc/RxCal.h;"
  "caldata/inc/RxCalData.h;"
  "caldata/inc/RxCalDownload.h;"
  "caldata/inc/RxIfCal.h;"
  "caldata/inc/RxIfCalData.h;"
  "caldata/inc/RxIfCalDownload.h;"
  "caldata/inc/SRxCal.h;"
  "caldata/inc/SRxCalData.h;"
  "caldata/inc/SRxCalDownload.h;"
  "caldata/inc/SwrCal.h;"
  "caldata/inc/SwrCalData.h;"
  "caldata/inc/SwrCalDownload.h;"
  "caldata/inc/TxCal.h;"
  "caldata/inc/TxCalData.h;"
  "caldata/inc/TxCalDownload.h;"
  "caldata/inc/TxDCOffsetCal.h;"
  "caldata/inc/TxDCOffsetCalDownload.h;"
  "caldata/inc/TxIfCal.h;"
  "caldata/inc/TxIfCalData.h;"
  "caldata/inc/TxIfCalDownload.h;"
  "caldata/inc/TxQuadCal.h;"
  "caldata/inc/TxQuadCalDownload.h;"
  "caldata/inc/TxVVACal.h;"
  "caldata/inc/TxVVACalDownload.h;"
  "carrier/inc/CarrierBundle.h;"
  "carrier/inc/CarrierBundleList.h;"
  "carrier/inc/CarrierFreqMgr.h;"
  "carrier/inc/CarrierPowerMgr.h;"
  "carrier/inc/CommonCarrier.h;"
  "carrier/inc/CommonCarrierFail.h;"
  "carrier/inc/CommonCarrierHardware.h;"
  "carrier/inc/CommonCarrierHardwareFunctional.h;"
  "carrier/inc/CommonCarrierModel.h;"
  "carrier/inc/CommonCarrierModelListWorker.h;"
  "carrier/inc/CommonCarrierModelWorker.h;"
  "carrier/inc/CommonCarrierServer.h;"
  "cpri/inc/CommonCpri.h;"
  "cpri/inc/CommonCpriCore.h;"
  "cpriDelays/inc/CpriDelays.h;"
  "driver/inc/Driver.h;"
  "driver/inc/RegDriver.h;"
  "embeddedMgr/inc/EmbeddedMgr.h;"
  "equaliser/inc/RxEqualiser.h;"
  "equaliser/inc/TxEqualiser.h;"
  "fault/inc/CommonRadioFaults.h;"
  "fault/inc/Cpri0LossOfFrameFaultMajor.h;"
  "fault/inc/Cpri0LossOfSignalFaultMajor.h;"
  "fault/inc/Cpri0RemoteAlarmIndFaultMajor.h;"
  "fault/inc/Cpri0SapDefectIndFaultMajor.h;"
  "fault/inc/Cpri1LossOfFrameFaultMajor.h;"
  "fault/inc/Cpri1LossOfSignalFaultMajor.h;"
  "fault/inc/Cpri1RemoteAlarmIndFaultMajor.h;"
  "fault/inc/Cpri1SapDefectIndFaultMajor.h;"
  "fault/inc/SynthClockFault.h;"
  "fpga/inc/FpgaCpri.h;"
  "fpga/inc/FpgaMgr.h;"
  "fpga/inc/OffTargetFPGA.h;"
  "frequencyconstants/inc/CommonRxFrequencyConst.h;"
  "frequencyconstants/inc/CommonSawFrequencyConst.h;"
  "frequencyconstants/inc/CommonTxFrequencyConst.h;"
  "frequencyconstants/inc/RadioConfigRxFreqConst.h;"
  "frequencyconstants/inc/RadioConfigSawFreqConst.h;"
  "frequencyconstants/inc/RadioConfigTxFreqConst.h;"
  "gpio/inc/CommonGpio.h;"
  "gpio/inc/CommonGpioKernel.h;"
  "gpio/inc/CommonGpioRegs.h;"
  "gpio/inc/GpioControlLinux.h;"
  "gpio/inc/GpioLinuxMgr.h;"
  "gpio/inc/MCP23S17.h;"
  "gpio/inc/Mcp23S17Spi.h;"
  "gpio/inc/OffTargetGpio.h;"
  "gpio/inc/Tca6416a.h;"
  "gpio/inc/Tca6416aGpio.h;"
  "hardwareSettings/inc/hardwareSettings.h;"
  "hdlc/inc/Hdlc.h;"
  "hdlc/inc/fcs.h;"
  "heartbeat/inc/Heartbeat.h;"
  "led/inc/CLed.h;"
  "led/inc/CLedControl.h;"
  "led/inc/LedSettings.h;"
  "led/inc/LedSystem.h;"
  "mdio/inc/Mdio.h;"
  "memory/inc/CommonIdEeprom.h;"
  "psu/inc/Ina226.h;"
  "psu/inc/Ina226Linux.h;"
  "psu/inc/Ina226LinuxMgr.h;"
  "radio/inc/CommonAdc.h;"
  "radio/inc/CommonAldPort.h;"
  "radio/inc/CommonAttenuator.h;"
  "radio/inc/CommonCam.h;"
  "radio/inc/CommonDac.h;"
  "radio/inc/CommonDevices.h;"
  "radio/inc/CommonEqualiser.h;"
  "radio/inc/CommonFem.h;"
  "radio/inc/CommonFibre.h;"
  "radio/inc/CommonFilter.h;"
  "radio/inc/CommonFpgaDev.h;"
  "radio/inc/CommonGpioExp.h;"
  "radio/inc/CommonModules.h;"
  "radio/inc/CommonPa.h;"
  "radio/inc/CommonPort.h;"
  "radio/inc/CommonRadio.h;"
  "radio/inc/CommonRadioInfo.h;"
  "radio/inc/CommonRefClock.h;"
  "radio/inc/CommonRxEqualiser.h;"
  "radio/inc/CommonRxPort.h;"
  "radio/inc/CommonSRxPort.h;"
  "radio/inc/CommonSynth.h;"
  "radio/inc/CommonTemperatureSensor.h;"
  "radio/inc/CommonTxEqualiser.h;"
  "radio/inc/CommonTxPort.h;"
  "radioConfig/inc/NullRadioConfig.h;"
  "radioConfig/inc/RadioConfig.h;"
  "radioConfig/inc/RadioConfigDevice.h;"
  "radioConfig/inc/RadioConfigFpgaHelper.h;"
  "refClock/inc/LMK04208.h;"
  "refClock/inc/LMX2594.h;"
  "refClock/inc/SI5341bI2C.h;"
  "refClock/inc/SI570.h;"
  "regData/inc/RegData.h;"
  "remoteProc/inc/HostFile.h;"
  "remoteProc/inc/HostFileBase.h;"
  "remoteProc/inc/HostFileChannel.h;"
  "remoteProc/inc/HostFileLinux.h;"
  "remoteProc/inc/HostFileMgr.h;"
  "remoteProc/inc/HostFileStd.h;"
  "remoteProc/inc/HostFileStderr.h;"
  "remoteProc/inc/HostFileStdin.h;"
  "remoteProc/inc/HostFileStdout.h;"
  "remoteProc/inc/RemoteCommsMsgBase.h;"
  "remoteProc/inc/RemoteCommsMsgCmd.h;"
  "remoteProc/inc/RemoteCommsMsgReply.h;"
  "remoteProc/inc/RemoteMsgHandler.h;"
  "remoteProc/inc/RemoteMsgHandlerBase.h;"
  "remoteProc/inc/RemoteMsgHandlerShim.h;"
  "remoteProc/inc/RemoteProc.h;"
  "remoteProc/inc/RpmsgMgr.h;"
  "resamplerData/inc/CommonResamplerConfig.h;"
  "retMotor/inc/AisgCommand.h;"
  "retMotor/inc/RetMotorComm.h;"
  "retMotor/inc/RetMotorControl.h;"
  "retMotor/inc/fcs.h;"
  "rfBandData/inc/CommonRfBandConfig.h;"
  "rfBandData/inc/CommonRxRfBandConfig.h;"
  "rfBandData/inc/CommonTxRfBandConfig.h;"
  "rfModule/inc/CommonRfModule.h;"
  "sensors/inc/NXPLM75B.h;"
  "serial/inc/AisgSerialDriver.h;"
  "serial/inc/SerialData.h;"
  "serial/inc/SerialDriver.h;"
  "sfpdata/inc/SfpData.h;"
  "synth/inc/SI5382aI2C.h;"
  "synth/inc/SI5382aI2CWithIntr.h;"
  "systemClockInput/inc/SystemClockInput.h;"
  "systemFpga/inc/SystemFpga.h;"
  "systemReboot/inc/SystemReboot.h;"
  "systemled/inc/SystemLed.h;"
  "DelaysMgr/inc/DelaysMgrSingleton.hpp;"
  "QmcCal/inc/QmcValType.hpp;"
  "bus/inc/BusLock.hpp;"
  "bus/inc/BusSettings.hpp;"
  "bus/inc/I2cBusSettings.hpp;"
  "carrier/inc/CarrierUtils.hpp;"
  "carrier/inc/CommonCarrierHardwareList.hpp;"
)

string(CONCAT INC_DIRS
  "carrier/inc/CarrierFreqMgr;"
  "delay/inc/DelayUnit;"
  "carrier/inc/CarrierHardwareFunctional;"
  "carrier/inc/CarrierPowerMgr;"
  "bus/inc/i2c;"
)

if ( "${SIMULATOR}" STREQUAL "TRUE" )

string(CONCAT SRC
  "FpgaCommsEmu/src/CommsEmuHandler.cpp;"
  "FpgaCommsEmu/src/CommsEmuMsg.cpp;"
  "FpgaCommsEmu/src/FpgaCommsEmulator.cpp;"
  "FpgaCommsEmu/src/FromUblazeEmu.cpp;"
  "FpgaCommsEmu/src/ToUblazeEmu.cpp;"
  "FpgaIrqEmu/src/FpgaIrqDevice.cpp;"
  "FpgaIrqEmu/src/FpgaIrqEmu.cpp;"
  "FpgaRegsEmu/src/LatchedAlarmEmu.cpp;"
  "FpgaRegsEmu/src/LatchedAntennaAlarmEmu.cpp;"
  "FpgaRegsEmu/src/W1Clear.cpp;"
  "RssiEmu/src/RssiEmu.cpp;"
  "SpiEmu/src/SpiBusEmu.cpp;"
  "SpiEmu/src/SpiEmu.cpp;"
  "SpiEmu/src/plugins/Amc7812/Amc7812Adc.cpp;"
  "SpiEmu/src/plugins/Amc7812/Amc7812Handler.cpp;"
  "SpiEmu/src/plugins/Amc7812/Amc7812PowerDetect.cpp;"
  "SpiEmu/src/plugins/Amc7812/Amc7812Profile.cpp;"
  "SpiEmu/src/plugins/Amc7812/Amc7812Temperature.cpp;"
  "SpiEmu/src/plugins/Amc7812/Amc7812Voltage.cpp;"
  "SpiEmu/src/plugins/SpiPluginAd9122.cpp;"
  "SpiEmu/src/plugins/SpiPluginAmc7812.cpp;"
  "SpiEmu/src/plugins/SpiPluginAttnPE4302.cpp;"
  "SpiEmu/src/plugins/SpiPluginBase.cpp;"
  "bus/src/I2cBusLinuxSim.cpp;"
  "gpio/src/GpioControlLinuxSim.cpp;"
)

string(CONCAT INC 
  "FpgaCommsEmu/inc/CommsEmuHandler.h;"
  "FpgaCommsEmu/inc/CommsEmuMsg.h;"
  "FpgaCommsEmu/inc/FpgaCommsEmulator.h;"
  "FpgaCommsEmu/inc/FromUblazeEmu.h;"
  "FpgaCommsEmu/inc/ToUblazeEmu.h;"
  "FpgaIrqEmu/inc/FpgaIrqDevice.h;"
  "FpgaIrqEmu/inc/FpgaIrqEmu.h;"
  "FpgaIrqEmu/inc/IFpgaIrqEmu.h;"
  "FpgaRegsEmu/inc/LatchedAlarmEmu.h;"
  "FpgaRegsEmu/inc/LatchedAntennaAlarmEmu.h;"
  "FpgaRegsEmu/inc/W1Clear.h;"
  "RssiEmu/inc/RssiEmu.h;"
  "SpiEmu/inc/ISpiEmu.h;"
  "SpiEmu/inc/ISpiPlugin.h;"
  "SpiEmu/inc/SpiBusEmu.h;"
  "SpiEmu/inc/SpiEmu.h;"
  "emulations/inc/CpriFibreEmu.h;"
)

string(CONCAT INC_DIRS
  "SpiEmu/inc/plugins;"
)

include_directories(FpgaCommsEmu/inc)
include_directories(FpgaRegsEmu/inc)
include_directories(FpgaIrqEmu/inc)
include_directories(RssiEmu/inc)
include_directories(SpiEmu/inc)
include_directories(SpiEmu/inc/plugins/Amc7812)
include_directories(SpiEmu/inc/plugins)

endif()

include_directories(DelaysMgr/inc)
include_directories(FpgaComms/inc)
include_directories(FpgaCommsMsg/inc)
include_directories(FpgaIrqTask/inc)
include_directories(FpgaMsgTokens/inc)
include_directories(HighSpeedEthernet/inc)
include_directories(I2cToSpi/inc)
include_directories(License/inc)
include_directories(QmcCal/inc)
include_directories(RegDevice/inc)
include_directories(RegModel/inc)
include_directories(RrhFreqPolicy/inc)
include_directories(agc/inc)
include_directories(attenuator/inc)
include_directories(bus/inc)
include_directories(bus/inc/i2c)
include_directories(caldata/inc)
include_directories(carrier/inc)
include_directories(carrier/inc/CarrierFreqMgr)
include_directories(carrier/inc/CarrierHardwareFunctional)
include_directories(carrier/inc/CarrierPowerMgr)
include_directories(cpri/inc)
include_directories(cpriDelays/inc)
include_directories(delay/inc)
include_directories(driver/inc)
include_directories(embeddedMgr/inc)
include_directories(emulations/inc)
include_directories(equaliser/inc)
include_directories(fault/inc)
include_directories(fpga/inc)
include_directories(frequencyconstants/inc)
include_directories(gpio/inc)
include_directories(hardwareSettings/inc)
include_directories(hdlc/inc)
include_directories(heartbeat/inc)
include_directories(led/inc)
include_directories(mdio/inc)
include_directories(memory/inc)
include_directories(psu/inc)
include_directories(radio/inc)
include_directories(radioConfig/inc)
include_directories(refClock/inc)
include_directories(regData/inc)
include_directories(remoteProc/inc)
include_directories(resamplerData/inc)
include_directories(retMotor/inc)
include_directories(rfBandData/inc)
include_directories(rfModule/inc)
include_directories(sensors/inc)
include_directories(serial/inc)
include_directories(sfpdata/inc)
include_directories(synth/inc)
include_directories(systemClockInput/inc)
include_directories(systemFpga/inc)
include_directories(systemReboot/inc)
include_directories(systemled/inc)

add_library(hardware-common
  ${SRC}
)

install(TARGETS hardware-common DESTINATION ${CMAKE_INSTALL_LIBDIR})

install(
  FILES
  ${INC}
  DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}
)

install(
  DIRECTORY
  ${INC_DIRS}
  DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}
)
